[gd_scene load_steps=15 format=3 uid="uid://wwn3w1xcwn2s"]

[ext_resource type="Script" path="res://scenes/levels/demo.gd" id="1_57u5x"]
[ext_resource type="PackedScene" uid="uid://du0bix06fta8k" path="res://models/currents/current_detector.tscn" id="2_2m3wr"]
[ext_resource type="Texture2D" uid="uid://n61hq6wp3c3t" path="res://assets/gradient.png" id="3_rws3y"]
[ext_resource type="Script" path="res://models/bubble/bubble_emitter.gd" id="3_t4t02"]
[ext_resource type="PackedScene" uid="uid://bdyj503wctuof" path="res://models/hud/hud.tscn" id="4_2udma"]
[ext_resource type="Texture2D" uid="uid://b850827dvlhkm" path="res://assets/backgrounds/default_bg.png" id="4_6ll6l"]
[ext_resource type="PackedScene" uid="uid://d4cmqk53ynl56" path="res://models/movable/movable_plank.tscn" id="5_2r7qs"]
[ext_resource type="Texture2D" uid="uid://drykod41nrxam" path="res://assets/gradients/background_gradient.tres" id="5_d7c40"]
[ext_resource type="Script" path="res://scenes/levels/gradient_sampler.gd" id="5_lunj7"]
[ext_resource type="PackedScene" uid="uid://cny5s4lrsj5k8" path="res://models/movable/movable_mine.tscn" id="6_ee8b1"]
[ext_resource type="Texture2D" uid="uid://clc124fko5cht" path="res://assets/gradients/background.tres" id="6_pjbmc"]
[ext_resource type="PackedScene" uid="uid://dic112bb06qtg" path="res://models/movable/movable_diving_bell.tscn" id="7_gf4m4"]
[ext_resource type="Script" path="res://scenes/levels/gradient_sampler_canvas_modulate.gd" id="12_qee7i"]
[ext_resource type="Texture2D" uid="uid://dk7spe3qrevxt" path="res://assets/gradients/game_world_gradient.tres" id="13_35gav"]

[node name="Demo Level" type="Node2D"]
script = ExtResource("1_57u5x")

[node name="CurrentDetector" parent="." instance=ExtResource("2_2m3wr")]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(320, 4800)

[node name="Background" type="CanvasLayer" parent="."]
layer = -1

[node name="GradientImage" type="TextureRect" parent="Background" groups=["gradients"]]
custom_minimum_size = Vector2(640, 360)
offset_right = 640.0
offset_bottom = 360.0
texture = ExtResource("3_rws3y")
script = ExtResource("5_lunj7")
gradient = ExtResource("5_d7c40")

[node name="ParallaxBackground" type="ParallaxBackground" parent="Background"]

[node name="Background" type="ParallaxLayer" parent="Background/ParallaxBackground"]
motion_mirroring = Vector2(0, 360)

[node name="Background" type="TextureRect" parent="Background/ParallaxBackground/Background" groups=["gradients"]]
custom_minimum_size = Vector2(640, 360)
offset_right = 640.0
offset_bottom = 360.0
texture = ExtResource("4_6ll6l")
script = ExtResource("5_lunj7")
gradient = ExtResource("6_pjbmc")

[node name="TransitionLayers" type="Node2D" parent="Background"]

[node name="Sprite2D" type="Sprite2D" parent="Background/TransitionLayers"]

[node name="HUDCanvas" type="CanvasLayer" parent="."]

[node name="HUD" parent="HUDCanvas" instance=ExtResource("4_2udma")]
top_level = true

[node name="Timer" type="Timer" parent="."]

[node name="BubbleEmitter" type="Node2D" parent="."]
position = Vector2(320, 4800)
script = ExtResource("3_t4t02")
spawn_rate = 20.0
max_bubbles = 50
spread_x = 200
spread_y = 50

[node name="ObstacleCanvas" type="CanvasGroup" parent="." groups=["gradients"]]
script = ExtResource("12_qee7i")
gradient = ExtResource("13_35gav")

[node name="Obstacles" type="Node2D" parent="ObstacleCanvas"]

[node name="plank1" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(277, 3181)

[node name="plank2" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(379, 3045)

[node name="plank3" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(306, 2840)

[node name="plank5" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(342, 2152)

[node name="plank6" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(314, 1812)

[node name="plank7" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(354, 1492)

[node name="plank8" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(314, 1288)

[node name="plank9" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(358, 1016)

[node name="plank4" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(294, 2392)

[node name="plank10" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(366, 710)

[node name="plank11" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(340, 280)

[node name="plank12" parent="ObstacleCanvas/Obstacles" instance=ExtResource("5_2r7qs")]
position = Vector2(366, 137)

[node name="mine1" parent="ObstacleCanvas/Obstacles" instance=ExtResource("6_ee8b1")]
position = Vector2(167, 787)

[node name="mine2" parent="ObstacleCanvas/Obstacles" instance=ExtResource("6_ee8b1")]
position = Vector2(536, 458)

[node name="bell1" parent="ObstacleCanvas/Obstacles" instance=ExtResource("7_gf4m4")]
position = Vector2(490, 2578)
